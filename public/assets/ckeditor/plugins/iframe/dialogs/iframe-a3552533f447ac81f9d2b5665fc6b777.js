/*
 Copyright (c) 2003-2013, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or http://ckeditor.com/license
*/
(function(){function a(a){var b=this instanceof CKEDITOR.ui.dialog.checkbox;a.hasAttribute(this.id)&&(a=a.getAttribute(this.id),b?this.setValue(c[this.id]["true"]==a.toLowerCase()):this.setValue(a))}function b(a){var b=""===this.getValue(),d=this instanceof CKEDITOR.ui.dialog.checkbox,f=this.getValue();b?a.removeAttribute(this.att||this.id):d?a.setAttribute(this.id,c[this.id][f]):a.setAttribute(this.att||this.id,f)}var c={scrolling:{"true":"yes","false":"no"},frameborder:{"true":"1","false":"0"}};CKEDITOR.dialog.add("iframe",function(c){var e=c.lang.iframe,f=c.lang.common,g=c.plugins.dialogadvtab;return{title:e.title,minWidth:350,minHeight:260,onShow:function(){this.fakeImage=this.iframeNode=null;var a=this.getSelectedElement();a&&a.data("cke-real-element-type")&&"iframe"==a.data("cke-real-element-type")&&(this.fakeImage=a,this.iframeNode=a=c.restoreRealElement(a),this.setupContent(a))},onOk:function(){var a;a=this.fakeImage?this.iframeNode:new CKEDITOR.dom.element("iframe");var b={},d={};this.commitContent(a,b,d),a=c.createFakeElement(a,"cke_iframe","iframe",!0),a.setAttributes(d),a.setStyles(b),this.fakeImage?(a.replace(this.fakeImage),c.getSelection().selectElement(a)):c.insertElement(a)},contents:[{id:"info",label:f.generalTab,accessKey:"I",elements:[{type:"vbox",padding:0,children:[{id:"src",type:"text",label:f.url,required:!0,validate:CKEDITOR.dialog.validate.notEmpty(e.noUrl),setup:a,commit:b}]},{type:"hbox",children:[{id:"width",type:"text",requiredContent:"iframe[width]",style:"width:100%",labelLayout:"vertical",label:f.width,validate:CKEDITOR.dialog.validate.htmlLength(f.invalidHtmlLength.replace("%1",f.width)),setup:a,commit:b},{id:"height",type:"text",requiredContent:"iframe[height]",style:"width:100%",labelLayout:"vertical",label:f.height,validate:CKEDITOR.dialog.validate.htmlLength(f.invalidHtmlLength.replace("%1",f.height)),setup:a,commit:b},{id:"align",type:"select",requiredContent:"iframe[align]","default":"",items:[[f.notSet,""],[f.alignLeft,"left"],[f.alignRight,"right"],[f.alignTop,"top"],[f.alignMiddle,"middle"],[f.alignBottom,"bottom"]],style:"width:100%",labelLayout:"vertical",label:f.align,setup:function(b,c){a.apply(this,arguments);if(c){var d=c.getAttribute("align");this.setValue(d&&d.toLowerCase()||"")}},commit:function(a,c,e){b.apply(this,arguments),this.getValue()&&(e.align=this.getValue())}}]},{type:"hbox",widths:["50%","50%"],children:[{id:"scrolling",type:"checkbox",requiredContent:"iframe[scrolling]",label:e.scrolling,setup:a,commit:b},{id:"frameborder",type:"checkbox",requiredContent:"iframe[frameborder]",label:e.border,setup:a,commit:b}]},{type:"hbox",widths:["50%","50%"],children:[{id:"name",type:"text",requiredContent:"iframe[name]",label:f.name,setup:a,commit:b},{id:"title",type:"text",requiredContent:"iframe[title]",label:f.advisoryTitle,setup:a,commit:b}]},{id:"longdesc",type:"text",requiredContent:"iframe[longdesc]",label:f.longDescr,setup:a,commit:b}]},g&&g.createAdvancedTab(c,{id:1,classes:1,styles:1},"iframe")]}})})();