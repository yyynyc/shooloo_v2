/*
 Copyright (c) 2003-2013, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or http://ckeditor.com/license
*/
(function(){function a(a,b){var c;try{c=a.getSelection().getRanges()[0]}catch(d){return null}return c.shrink(CKEDITOR.SHRINK_TEXT),a.elementPath(c.getCommonAncestor()).contains(b,1)}function b(b,e){var g=b.lang.liststyle;if("bulletedListStyle"==e)return{title:g.bulletedTitle,minWidth:300,minHeight:50,contents:[{id:"info",accessKey:"I",elements:[{type:"select",label:g.type,id:"type",align:"center",style:"width:150px",items:[[g.notset,""],[g.circle,"circle"],[g.disc,"disc"],[g.square,"square"]],setup:function(a){this.setValue(a.getStyle("list-style-type")||d[a.getAttribute("type")]||a.getAttribute("type")||"")},commit:function(a){var b=this.getValue();b?a.setStyle("list-style-type",b):a.removeStyle("list-style-type")}}]}],onShow:function(){var b=this.getParentEditor();(b=a(b,"ul"))&&this.setupContent(b)},onOk:function(){var b=this.getParentEditor();(b=a(b,"ul"))&&this.commitContent(b)}};if("numberedListStyle"==e){var i=[[g.notset,""],[g.lowerRoman,"lower-roman"],[g.upperRoman,"upper-roman"],[g.lowerAlpha,"lower-alpha"],[g.upperAlpha,"upper-alpha"],[g.decimal,"decimal"]];return(!CKEDITOR.env.ie||7<CKEDITOR.env.version)&&i.concat([[g.armenian,"armenian"],[g.decimalLeadingZero,"decimal-leading-zero"],[g.georgian,"georgian"],[g.lowerGreek,"lower-greek"]]),{title:g.numberedTitle,minWidth:300,minHeight:50,contents:[{id:"info",accessKey:"I",elements:[{type:"hbox",widths:["25%","75%"],children:[{label:g.start,type:"text",id:"start",validate:CKEDITOR.dialog.validate.integer(g.validateStartNumber),setup:function(a){this.setValue(a.getFirst(c).getAttribute("value")||a.getAttribute("start")||1)},commit:function(a){var b=a.getFirst(c),d=b.getAttribute("value")||a.getAttribute("start")||1;a.getFirst(c).removeAttribute("value");var e=parseInt(this.getValue(),10);isNaN(e)?a.removeAttribute("start"):a.setAttribute("start",e),a=b,b=d;for(e=isNaN(e)?1:e;(a=a.getNext(c))&&b++;)a.getAttribute("value")==b&&a.setAttribute("value",e+b-d)}},{type:"select",label:g.type,id:"type",style:"width: 100%;",items:i,setup:function(a){this.setValue(a.getStyle("list-style-type")||d[a.getAttribute("type")]||a.getAttribute("type")||"")},commit:function(a){var b=this.getValue();b?a.setStyle("list-style-type",b):a.removeStyle("list-style-type")}}]}]}],onShow:function(){var b=this.getParentEditor();(b=a(b,"ol"))&&this.setupContent(b)},onOk:function(){var b=this.getParentEditor();(b=a(b,"ol"))&&this.commitContent(b)}}}}var c=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is("li")},d={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman",1:"decimal",disc:"disc",circle:"circle",square:"square"};CKEDITOR.dialog.add("numberedListStyle",function(a){return b(a,"numberedListStyle")}),CKEDITOR.dialog.add("bulletedListStyle",function(a){return b(a,"bulletedListStyle")})})();